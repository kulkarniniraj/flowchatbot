---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "scratchpad.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: scratchpad.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pipe</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="SIP-test">SIP test<a class="anchor-link" href="#SIP-test"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">SIPSegment</span><span class="p">(</span><span class="n">ComputeSegment</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="n">amt</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sip1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">mth</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sip2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">intr</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sip3&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;sip4&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        
        <span class="n">sip</span> <span class="o">=</span> <span class="p">(</span><span class="n">amt</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">intr</span><span class="o">/</span><span class="mi">1200</span><span class="p">)</span> <span class="o">/</span> <span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">intr</span><span class="o">/</span><span class="mi">1200</span><span class="p">)</span> <span class="o">**</span> <span class="n">mth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;your monthly SIP is </span><span class="si">{</span><span class="n">sip</span><span class="si">}</span><span class="s1">&#39;</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">RiskProfileSegment</span><span class="p">(</span><span class="n">MultiChoiceSegment</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">ans_lst</span><span class="p">,</span> <span class="n">point_lst</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">ans_lst</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">point_lst</span> <span class="o">=</span> <span class="n">point_lst</span>
    
    <span class="k">def</span> <span class="nf">answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">anext</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">anext</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ans_lst</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">anext</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ans_lst</span><span class="p">[</span><span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">point_lst</span><span class="p">[</span><span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            <span class="k">return</span> <span class="s1">&#39;ok&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">err</span>   
        
    
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">RiskProfileComputeSegment</span><span class="p">(</span><span class="n">MultiChoiceSegment</span><span class="p">,</span> <span class="n">ComputeSegment</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">ans_lst</span><span class="p">,</span> <span class="n">point_lst</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">ans_lst</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">point_lst</span> <span class="o">=</span> <span class="n">point_lst</span>
    
    <span class="k">def</span> <span class="nf">answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">anext</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">anext</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">next</span>
        <span class="k">if</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ans_lst</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">anext</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ans_lst</span><span class="p">[</span><span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">point_lst</span><span class="p">[</span><span class="n">tryint</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
            
            <span class="n">pts</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
                <span class="n">pts</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;r</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Your total points: </span><span class="si">{</span><span class="n">pts</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">err</span>   
        
    
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">_test</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;s1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;s1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;yes&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span> <span class="o">=</span> <span class="n">Composite</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">,</span> 
    <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;do you have debt&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
    <span class="n">SkipSplitter</span><span class="p">(</span><span class="s1">&#39;s2&#39;</span><span class="p">,</span> 
                <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">,</span> <span class="s1">&#39;how much&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
                <span class="n">_test</span><span class="p">),</span>
    <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s4&#39;</span><span class="p">,</span> <span class="s1">&#39;and deposits?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">info</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;class &#39;pipe.Composite.Composite&#39;&gt;: main</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sipbot</span> <span class="o">=</span> <span class="n">Composite</span><span class="p">(</span><span class="s1">&#39;sip&#39;</span><span class="p">,</span> 
    <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;sip1&#39;</span><span class="p">,</span> <span class="s1">&#39;Desired amount at end&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
    <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;sip2&#39;</span><span class="p">,</span> <span class="s1">&#39;Months&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
    <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;sip3&#39;</span><span class="p">,</span> <span class="s1">&#39;Expected rate of interest&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
    <span class="n">SIPSegment</span><span class="p">(</span><span class="s1">&#39;sip4&#39;</span><span class="p">,</span> <span class="s1">&#39;Current investment&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rprof</span> <span class="o">=</span> <span class="n">Composite</span><span class="p">(</span><span class="s1">&#39;rprof&#39;</span><span class="p">,</span> 
                 <span class="n">RiskProfileSegment</span><span class="p">(</span><span class="s1">&#39;r1&#39;</span><span class="p">,</span> <span class="s1">&#39;annual income?&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;&lt;10000&#39;</span><span class="p">,</span> <span class="s1">&#39;10,000 - 100,000&#39;</span><span class="p">,</span> 
                                                            <span class="s1">&#39;100,000 - 1,000,000&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;1,000,000&#39;</span><span class="p">],</span>
                                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                 <span class="n">RiskProfileSegment</span><span class="p">(</span><span class="s1">&#39;r2&#39;</span><span class="p">,</span> <span class="s1">&#39;monthly saving?&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;No saving&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;1,000&#39;</span><span class="p">,</span> 
                                                            <span class="s1">&#39;1,000 - 10,000&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;10,000&#39;</span><span class="p">],</span>
                                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span>
                 <span class="n">RiskProfileComputeSegment</span><span class="p">(</span><span class="s1">&#39;r3&#39;</span><span class="p">,</span> <span class="s1">&#39;interest?&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;fixed deposit&#39;</span><span class="p">,</span> <span class="s1">&#39;bonds&#39;</span><span class="p">,</span> 
                                                            <span class="s1">&#39;mutual fund&#39;</span><span class="p">,</span> <span class="s1">&#39;stock options&#39;</span><span class="p">],</span>
                                   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> 
                 <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">pipe</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">info</span> <span class="o">=</span> <span class="n">Composite</span><span class="p">(</span>
            <span class="s1">&#39;main&#39;</span><span class="p">,</span>
            <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;your name?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
            <span class="n">ValidatedSegment</span><span class="p">(</span><span class="s1">&#39;mobile&#39;</span><span class="p">,</span> <span class="s1">&#39;your mobile number?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">,</span> 
                             <span class="s1">&#39;mobile num should be 10 digits long&#39;</span><span class="p">,</span>
                            <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;\d</span><span class="si">{10}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">),</span>
            <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;your email?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>            
        <span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">intro</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;intro&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Thanks for visiting.&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">thanks</span> <span class="o">=</span> <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;thanks&#39;</span><span class="p">,</span> <span class="s1">&#39;thanks would you like to see ad?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span> <span class="o">=</span> <span class="n">Composite</span><span class="p">(</span><span class="s1">&#39;bot&#39;</span><span class="p">,</span>
               <span class="n">intro</span><span class="p">,</span>
               <span class="n">SkipSplitter</span><span class="p">(</span><span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="n">info</span><span class="p">,</span> <span class="n">decider_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;info&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;main&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
               <span class="n">MultiChoiceSegment</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">,</span> <span class="s1">&#39;Please choose your task&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;SIP&#39;</span><span class="p">,</span> <span class="s1">&#39;Risk Profile&#39;</span><span class="p">]),</span>
                <span class="n">Splitter</span><span class="p">(</span><span class="s1">&#39;pth&#39;</span><span class="p">,</span> <span class="n">sipbot</span><span class="p">,</span> <span class="n">rprof</span><span class="p">,</span> <span class="n">decider_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">tryint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span>
               <span class="n">thanks</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;path&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">data</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;SIP&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>decider info True
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Thanks for visiting.&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>your name?
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;Niraj&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>your mobile number?
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;9876543210&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>your email?
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;asd&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Please choose your task
1. SIP
2. Risk Profile
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>decider pth 0
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Desired amount at end
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;10000000&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Months
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;120&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expected rate of interest
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;12&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Current investment
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;300000&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;your monthly SIP is 43470.94840258731&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>thanks would you like to see ad?
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>decider info False
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Thanks for visiting.&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Please choose your task
1. SIP
2. Risk Profile
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>decider pth 1
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>annual income?
1. &lt;10000
2. 10,000 - 100,000
3. 100,000 - 1,000,000
4. &gt;1,000,000
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>monthly saving?
1. No saving
2. &lt;1,000
3. 1,000 - 10,000
4. &gt;10,000
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>interest?
1. fixed deposit
2. bonds
3. mutual fund
4. stock options
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">answer</span><span class="p">(</span><span class="s1">&#39;3&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;Your total points: 8&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bot</span><span class="o">.</span><span class="n">question</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>thanks would you like to see ad?
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test-looping-composite-model">Test looping composite model<a class="anchor-link" href="#Test-looping-composite-model"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">flowchatbot</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">OrderComputeSegment</span><span class="p">(</span><span class="n">ComputeSegment</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;compute data </span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">orders</span> <span class="o">=</span> <span class="n">get_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;orders&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">orders</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">orders</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">set_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;orders&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="n">orders</span><span class="p">)</span>
        <span class="n">order</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;product&#39;</span><span class="p">:</span> <span class="n">get_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;s3&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span>
            <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="n">get_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;s4&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="n">orders</span> <span class="o">+=</span> <span class="p">[</span><span class="n">order</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;orders: </span><span class="si">{</span><span class="n">orders</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">set_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="n">resp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CHAT_RET</span><span class="o">.</span><span class="n">NEXT</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;txt&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">decide_order</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">get_chained_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;ss1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">,</span> <span class="s1">&#39;s5&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;no&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="mi">1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span> <span class="o">=</span> <span class="n">TextAdapter</span><span class="p">(</span>
    <span class="n">Composite</span><span class="p">(</span><span class="s1">&#39;c1&#39;</span><span class="p">,</span>
              <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s1&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;welcome&#39;</span><span class="p">),</span>
              <span class="n">SkipSplitter</span><span class="p">(</span><span class="s1">&#39;ss1&#39;</span><span class="p">,</span> 
                  <span class="n">LoopComposite</span><span class="p">(</span><span class="s1">&#39;c2&#39;</span><span class="p">,</span>
                        <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">,</span> <span class="s1">&#39;what do you want (petrol, gas, diesel)?&#39;</span><span class="p">,</span>
                           <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
                        <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s4&#39;</span><span class="p">,</span> <span class="s1">&#39;in what quantity?&#39;</span><span class="p">,</span> <span class="s1">&#39;ok&#39;</span><span class="p">),</span>
                        <span class="n">OrderComputeSegment</span><span class="p">(</span><span class="s1">&#39;s5&#39;</span><span class="p">,</span> <span class="s1">&#39;would you like to order more?&#39;</span><span class="p">,</span>
                                           <span class="s1">&#39;thanks&#39;</span><span class="p">)</span>
                        <span class="p">),</span>
                    <span class="n">decider_fn</span><span class="o">=</span><span class="n">decide_order</span><span class="p">),</span>
              <span class="n">Segment</span><span class="p">(</span><span class="s1">&#39;s2&#39;</span><span class="p">,</span> <span class="s1">&#39;Do you want to confirm order?&#39;</span><span class="p">,</span> <span class="s1">&#39;Thanks&#39;</span><span class="p">)</span>
         <span class="p">)</span>
<span class="p">)</span>
<span class="n">bot</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">flushall</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current s1 data {&#39;pos&#39;: &#39;s1&#39;}
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {}}
composite question current s3 data {&#39;pos&#39;: &#39;s3&#39;}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s3&#39;, &#39;s3&#39;: {}}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;welcome\nwhat do you want (petrol, gas, diesel)?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;petrol&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s3&#39;, &#39;s3&#39;: {}}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s3&#39;, &#39;s3&#39;: {}}}}
composite answer current s3 data {&#39;pos&#39;: &#39;s3&#39;, &#39;s3&#39;: {}}
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}}}}
composite question current s4 data {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {}}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok\nin what quantity?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;2 ltr&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {}}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {}}}}
composite answer current s4 data {&#39;pos&#39;: &#39;s4&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {}}
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}}}}
composite question current s5 data {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {}}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok\nwould you like to order more?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {}}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {}}}}
composite answer current s5 data {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {}}
compute data {&#39;pos&#39;: &#39;s5&#39;, &#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {}}
orders: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}]
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}}}}
composite question current s3 data {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s3&#39;}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s3&#39;}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;thanks\nwhat do you want (petrol, gas, diesel)?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;gas&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s3&#39;}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s3&#39;}}}
composite answer current s3 data {&#39;s3&#39;: {&#39;data&#39;: &#39;petrol&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s3&#39;}
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}}}
composite question current s4 data {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok\nin what quantity?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;5 kg&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}}}
composite answer current s4 data {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;2 ltr&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s4&#39;}
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}}}
composite question current s5 data {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}
adapter data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;ok\nwould you like to order more?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">respond</span><span class="p">(</span><span class="s1">&#39;no&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>composite answer current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}}}
skip answer data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}}}
composite answer current s5 data {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}
compute data {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}], &#39;data&#39;: &#39;yes&#39;}, &#39;pos&#39;: &#39;s5&#39;}
orders: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}, {&#39;product&#39;: &#39;gas&#39;, &#39;quantity&#39;: &#39;5 kg&#39;}]
composite question current ss1 data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}, {&#39;product&#39;: &#39;gas&#39;, &#39;quantity&#39;: &#39;5 kg&#39;}], &#39;data&#39;: &#39;no&#39;}}}}
skip question data {&#39;pos&#39;: &#39;ss1&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}, {&#39;product&#39;: &#39;gas&#39;, &#39;quantity&#39;: &#39;5 kg&#39;}], &#39;data&#39;: &#39;no&#39;}}}}
adapter data {&#39;pos&#39;: &#39;s2&#39;, &#39;s1&#39;: {&#39;data&#39;: &#39;hi&#39;}, &#39;ss1&#39;: {&#39;pos&#39;: &#39;c2&#39;, &#39;c2&#39;: {&#39;s3&#39;: {&#39;data&#39;: &#39;gas&#39;}, &#39;s4&#39;: {&#39;data&#39;: &#39;5 kg&#39;}, &#39;s5&#39;: {&#39;orders&#39;: [{&#39;product&#39;: &#39;petrol&#39;, &#39;quantity&#39;: &#39;2 ltr&#39;}, {&#39;product&#39;: &#39;gas&#39;, &#39;quantity&#39;: &#39;5 kg&#39;}], &#39;data&#39;: &#39;no&#39;}}}}
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;thanks\nDo you want to confirm order?&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tryint</span><span class="p">(</span><span class="s1">&#39;a123&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>-1</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>ComputeSegment<span class="o">??</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">cur</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;class &#39;pipe.Composite.Composite&#39;&gt;: main</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">info</span><span class="o">.</span><span class="n">cur</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;class &#39;pipe.Segment.ValidatedSegment&#39;&gt;: mobile</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">args</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&lt;class &#39;pipe.Segment.Segment&#39;&gt;: intro,
 &lt;class &#39;pipe.Splitter.SkipSplitter&#39;&gt;: info)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bot</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">next</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;class &#39;pipe.Splitter.SkipSplitter&#39;&gt;: info</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Loo</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

